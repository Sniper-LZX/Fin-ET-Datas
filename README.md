# Fin-ET-Datas
## 数据集构建
### 原始数据集来源
- 2010年至2017年期间的8392份企业年报PDF文件，覆盖了300家在上海证券交易所上市的企业。
- AKShare 库来获取相关企业的股票价格变化数据。
### 数据清洗流程
1. 段落级文本构建：基于SentenceBERT方法
2. 提取主题词和时间范围：使用国内大模型，如智谱清言、文心一言、通义千问等，通过设计提示词进行相关数据信息的收集，并说明提取理由
   1. 使用公开事件类型数据集微调大模型
   2. 借助哈工大LTP筛选含有时间属性的段落（词性标志nt 或者 语义角色TMP）
   3. 提示词设计以及抽取功能实现
4. 信息人工审查：根据标注的提取理由审核时间范围的准确性
5. 根据公司股票历史价格计算某一事件发生时间范围内的RSI
### 最终数据.json（Data.zip）
| 属性      | 含义              |
| ----      | ----             |
| Id        | 事件项序号        |
| Report    | 年报来源          |
| Tag       | 属于哪一章节      |
| Input     | 段落级文本        |
| Type_Time | 主题词（时间范围） |
| Reason    | 提取原因          |
| RSI       | 股价相对强弱指数   |

## IE-System
金融事件信息抽取系统实现及关联图可视化<br>
使用 flask + html 进行构建<br>
IE-System/Tool中
| PDF2TXT.py          | PDF转为TXT        |
| Text_Classify       | 段落级文本划分     |
| ZhipuControlAPI.py  | 大模型抽取主要程序 |
| Draw_Pictures.py    | 绘画事件关联图     |

